generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Address {
    state    String  @id
    zone     String?
    district String?
    kebele   String?
    site     Site
}

model Donates_to {
    donor                   Int
    group                   Int
    donor_donates_toTodonor Donor          @relation(fields: [donor], references: [id])
    groupoforphans          Groupoforphans @relation(fields: [group], references: [id])

    @@id([group, donor])
    @@index([donor], name: "donor")
    @@map("donates to")
}

model Donor {
    id                           Int          @id
    companyName                  String?
    typeOfsupport                String?
    initialDonationAmount        Float?
    initialReportPreparationDate DateTime?
    finalReportPreparationDate   DateTime?
    initialDataCollectionDate    DateTime?
    finalDataCollectionDate      DateTime?
    reportDueDate                DateTime?
    donates_to                   Donates_to[]
}

model Education {
    id                Int                         @id
    enrollment_status education_enrollment_status
    school_name       String?
    type_of_school    education_type_of_school?
    grade             String?
    reason            String?
    hobbies           String?
    orphans           Orphan[]
}

model Father {
    id             Int       @id
    date_of_death  DateTime?
    cause_of_death String?
    job            String?
    monthlyIncome  Int?
    dateOfBirth    DateTime?
    orphans        Orphan[]
}

model Groupoforphans {
    id                        Int              @id
    registration_date         DateTime?
    site                      Int
    site_groupoforphansTosite Site             @relation(fields: [site], references: [id])
    donates_to                Donates_to[]
    orphans                   Orphan[]
    responsiblefor            responsiblefor[]

    @@index([site], name: "site")
}

model Guardian {
    id                 Int      @id
    first_name         String?
    middle_name        String?
    last_name          String?
    gender             String?
    nationality        String?
    state              String?
    zone               String?
    district           String?
    kebele             String?
    relation_to_orphan String?
    email              String?
    job                String?
    age                Int?
    orphans            Orphan[]
}

model Iga_property {
    id               Int     @id
    ownership_status String?
    otherProperty    String?
    orphan           Orphan
}

model Mother {
    id              Int        @id
    first_name      String?
    middle_name     String?
    last_name       String?
    date_of_birth   DateTime?
    phone_number    Int?
    job             Int?
    marital_status  String?
    vital_status    String?
    monthly_expense Float?
    motherjob       motherjob? @relation(fields: [job], references: [id])
    orphans         Orphan[]

    @@index([job], name: "job")
}

model motherjob {
    id                    Int     @id
    current_job_title     String?
    monthly_income        Float?
    mother_current_jobcol String?
    mother                Mother
}

model Orphan {
    id                          Int            @id
    first_name                  String?
    middle_name                 String?
    last_name                   String?
    gender                      orphan_gender?
    placeofbirth                String?
    DoB                         DateTime?
    number_of_sponserd_siblings Int?
    physicalHealthStatus        String?
    psychologicalHealthStatus   String?
    otherHealthIssues           String?
    photo_portrait_url          String?
    photo_long_url              String?
    father                      Int
    mother                      Int
    guardian                    Int
    group                       Int
    sibling                     Int?
    IGA_Property                Int?
    education                   Int?
    iga_property                Iga_property?  @relation(fields: [IGA_Property], references: [id])
    education_educationToorphan Education?     @relation(fields: [education], references: [id])
    father_fatherToorphan       Father         @relation(fields: [father], references: [id])
    groupoforphans              Groupoforphans @relation(fields: [group], references: [id])
    guardian_guardianToorphan   Guardian       @relation(fields: [guardian], references: [id])
    mother_motherToorphan       Mother         @relation(fields: [mother], references: [id])
    sibling_orphanTosibling     Sibling?       @relation(fields: [sibling], references: [id])

    @@index([IGA_Property], name: "IGA_Property")
    @@index([education], name: "education")
    @@index([father], name: "father")
    @@index([group], name: "group")
    @@index([guardian], name: "guardian")
    @@index([mother], name: "mother")
    @@index([sibling], name: "sibling")
}

model responsiblefor {
    GroupOfOrphans Int
    SocialWorker   Int
    groupoforphans Groupoforphans @relation(fields: [GroupOfOrphans], references: [id])
    socialworker   Socialworker   @relation(fields: [SocialWorker], references: [id])

    @@id([GroupOfOrphans, SocialWorker])
    @@index([SocialWorker], name: "SocialWorker")
}

model Sibling {
    id            Int      @id
    fullname      String?
    gender        String?
    age           Int?
    schoolgrade   String?
    job           String?
    maritalStatus String?
    orphan        Orphan[]
}

model Site {
    id                    Int              @id
    siteName              String?
    donationAmount        Int?
    address               String?
    address_addressTosite Address?         @relation(fields: [address], references: [state])
    groupoforphans        Groupoforphans[]
    socialworkers         Socialworker[]

    @@index([address], name: "address")
}

model Socialworker {
    id                      Int              @id
    fullName                String?
    phoneNumber             Int?
    site                    Int
    site_siteTosocialworker Site             @relation(fields: [site], references: [id])
    responsiblefor          responsiblefor[]

    @@index([site], name: "site")
}

enum education_enrollment_status {
    enrolled
    unenrolled
    droppedout
}

enum education_type_of_school {
    private
    public
}

enum orphan_gender {
    M
    F
}
